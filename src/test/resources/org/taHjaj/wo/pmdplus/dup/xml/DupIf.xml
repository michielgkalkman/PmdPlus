<?xml version="1.0" encoding="UTF-8"?>
<test-data xmlns="http://pmd.sourceforge.net/rule-tests">
    <test-code>
        <description><![CDATA[
(24) nested ifs: common expressions can be moved outside the if statement
        ]]></description>
        <expected-problems>2</expected-problems>
        <expected-messages>
            <message>Duplicate if-expression result&amp;0xff found in lines 3:18,6:21</message>
            <message>Duplicate if-expression result&amp;0xff==1 found in lines 3:17,6:20</message>
        </expected-messages>
        <code><![CDATA[
public class EqualsExpression {
    public boolean test() {
            if ((result & 0xff) == 1 || startVertex != null) {
            }

            return (result & 0xff) == 1;
    }
}
        ]]></code>
    </test-code>
    <test-code>
        <description><![CDATA[
(23) nested ifs: common expressions can be moved outside the if statement
        ]]></description>
        <expected-problems>1</expected-problems>
        <expected-messages>
            <message>Duplicate if-expression result.isEmpty() found in lines 3:17,6:20</message>
        </expected-messages>
        <code><![CDATA[
public class EqualsExpression {
    public boolean test() {
            if (result.isEmpty() || startVertex != null) {
            }

            return result.isEmpty();
    }
}
        ]]></code>
    </test-code>
    <test-code>
        <description><![CDATA[
(17) nested ifs: common expressions can be moved outside the if statement
        ]]></description>
        <expected-problems>2</expected-problems>
        <expected-messages>
            <message>Duplicate if-expression a() found in lines 5:13,6:17</message>
            <message>Duplicate if-expression a()&lt;3 found in lines 5:13,6:17</message>
        </expected-messages>
        <code><![CDATA[
public class CommonExpressionsInAllIfBranches {
    private int x = 0;

    public void test() {
        if( a() < 3) {
            if( a() < 3) {
           }
         }
    }
}
     ]]></code>
    </test-code>
    <test-code>
        <description><![CDATA[
(11) nested ifs: common expressions can be moved outside the if statement
        ]]></description>
        <expected-problems>2</expected-problems>
        <expected-messages>
            <message>Duplicate if-expression a() found in lines 5:13,6:21</message>
            <message>Duplicate if-expression f() found in lines 5:19,7:32</message>
        </expected-messages>
        <code><![CDATA[
public class CommonExpressionsInAllIfBranches {
    private int x = 0;

    public void test() {
        if( a() < f()) {
            if( 3 < a()) {
               x = doSomething(f());
           }
         }
    }
}
     ]]></code>
    </test-code>
    <test-code>
        <description><![CDATA[
(22) nested ifs: common expressions can be moved outside the if statement
        ]]></description>
        <expected-problems>0</expected-problems>
        <code><![CDATA[
public class EqualsExpression {
    public boolean test() {
            return result.isEmpty() ? empty() : new GreatArcPath(result);
    }
}
        ]]></code>
    </test-code>
    <test-code>
        <description><![CDATA[
(21) nested ifs: common expressions can be moved outside the if statement
        ]]></description>
        <expected-problems>1</expected-problems>
        <expected-messages>
            <message>Duplicate if-expression result.isEmpty() found in lines 3:17,6:20</message>
        </expected-messages>
        <code><![CDATA[
public class EqualsExpression {
    public boolean test() {
            if (result.isEmpty() && startVertex != null) {
            }

            return result.isEmpty();
    }
}
        ]]></code>
    </test-code>
    <test-code>
        <description><![CDATA[
(23) nested ifs: common expressions can be moved outside the if statement
        ]]></description>
        <expected-problems>0</expected-problems>
        <code><![CDATA[
public class EqualsExpression {
    public Object test(int result) {
            return new GreatArcPath(result);
    }
}
        ]]></code>
    </test-code>
    <test-code>
        <description><![CDATA[
(8) common expressions can be moved outside the if statement
        ]]></description>
        <expected-problems>1</expected-problems>
        <expected-messages>
            <message>Duplicate if-expression x&amp;&amp;y found in lines 3:15,4:28</message>
        </expected-messages>
        <code><![CDATA[
public class CommonExpressionsInAllIfBranches {
    public void test() {
        if( a(x && y)) {
           x = doSomething(x && y);
         }
    }
}
     ]]></code>
    </test-code>
    <test-code>
        <description><![CDATA[
(20) nested ifs: common expressions can be moved outside the if statement
        ]]></description>
        <expected-problems>1</expected-problems>
        <expected-messages>
            <message>Duplicate if-expression pt!=null found in lines 4:13,7:13</message>
        </expected-messages>
        <code><![CDATA[
public class EqualsExpression {
    public void test() {
        pt = getStartVertex();
        if (pt != null) {
            sequence.add(pt);
        }
        if (pt != null) {
            sequence.add(pt);
        }
    }
}
        ]]></code>
    </test-code>
    <test-code>
        <description><![CDATA[
(19) nested ifs: common expressions can be moved outside the if statement
        ]]></description>
        <expected-problems>1</expected-problems>
        <expected-messages>
            <message>Duplicate if-expression cmp==0 found in lines 4:13,5:17</message>
        </expected-messages>
        <code><![CDATA[
public class EqualsExpression {
    public void test() {
        int cmp = Vector2D.COORDINATE_ASCENDING_ORDER.compare(start, other.start);
        if (cmp == 0) {
            if (cmp == 0) {
                x();
            }
        }
    }
}
     ]]></code>
    </test-code>
    <test-code>
        <description><![CDATA[
(18) nested ifs: common expressions can be moved outside the if statement
        ]]></description>
        <expected-problems>0</expected-problems>
        <code><![CDATA[
public class EqualsExpression {
    public void test() {
        pt = getStartVertex();
        if (pt != null) {
            sequence.add(pt);
        }
    }
}
     ]]></code>
    </test-code>
    <test-code>
        <description><![CDATA[
(10) common expressions can be moved outside the if statement
        ]]></description>
        <expected-problems>1</expected-problems>
        <expected-messages>
            <message>Duplicate if-expression x||y found in lines 3:17,4:28</message>
        </expected-messages>
        <code><![CDATA[
public class CommonExpressionsInAllIfBranches {
    public void test() {
        if( a( (x || y) && z)) {
           x = doSomething(x || y);
         }
    }
}
     ]]></code>
    </test-code>
    <test-code>
        <description><![CDATA[
(15) common expressions can be moved outside the if statement
        ]]></description>
        <expected-problems>0</expected-problems>
        <code><![CDATA[
public class CommonExpressionsInAllIfBranches {
    private int x = 0;

    public void test() {
        if( a() > 2) {
           x = doSomething(f());
        }
        if(b() > 2) {
           y = doAnotherThing(f());
        }
    }
}
     ]]></code>
    </test-code>
    <test-code>
        <description><![CDATA[
(12) common expressions can be moved outside the if statement
        ]]></description>
        <expected-problems>1</expected-problems>
        <expected-messages>
            <message>Duplicate if-expression f() found in lines 6:28,7:31</message>
        </expected-messages>
        <code><![CDATA[
public class CommonExpressionsInAllIfBranches {
    private int x = 0;

    public void test() {
        if( 2 < g()) {
           x = doSomething(f());
           y = doAnotherThing(f());
        }
    }
}
     ]]></code>
    </test-code>
    <test-code>
        <description><![CDATA[
(16) common expressions can be moved outside the if statement
        ]]></description>
        <expected-problems>0</expected-problems>
        <code><![CDATA[
public class CommonExpressionsInAllIfBranches {
    private int x = 0;

    public void test() {
        if( a() > 2) {
           x = doSomething(f());
        } else {
            if(b() > 2) {
               y = doAnotherThing(f());
            }
        }
        if(c() > 2) {
           y = doAnotherThing(f());
        }
    }
}
     ]]></code>
    </test-code>
    <test-code>
        <description><![CDATA[
(1) common expressions can be moved outside the if statement
        ]]></description>
        <expected-problems>1</expected-problems>
        <code><![CDATA[
public class CommonExpressionsInAllIfBranches {
    private int x = 0;

    public void test() {
        if( 2 < f()) {
           x = doSomething(f());
         }
    }
}
     ]]></code>
    </test-code>
    <test-code>
        <description><![CDATA[
(14) common expressions can be moved outside the if statement
        ]]></description>
        <expected-problems>1</expected-problems>
        <expected-messages>
            <message>Duplicate if-expression f() found in lines 5:24,6:27</message>
        </expected-messages>
        <code><![CDATA[
public class CommonExpressionsInAllIfBranches {
    private int x = 0;

    public void test() {
       x = doSomething(f());
       y = doAnotherThing(f());
    }
}
     ]]></code>
    </test-code>
    <test-code>
        <description><![CDATA[
(9) common expressions can be moved outside the if statement
        ]]></description>
        <expected-problems>1</expected-problems>
        <expected-messages>
            <message>Duplicate if-expression x||y found in lines 3:15,4:28</message>
        </expected-messages>
        <code><![CDATA[
public class CommonExpressionsInAllIfBranches {
    public void test() {
        if( a(x || y)) {
           x = doSomething(x || y);
         }
    }
}
     ]]></code>
    </test-code>

    <test-code>
        <description><![CDATA[
(7) common expressions can be moved outside the if statement
        ]]></description>
        <expected-problems>0</expected-problems>
        <code><![CDATA[
public class CommonExpressionsInAllIfBranches {
    public void test() {
        if( a(true)) {
           x = doSomething(true);
         }
    }
}
     ]]></code>
    </test-code>
    <test-code>
        <description><![CDATA[
(6) common expressions can be moved outside the if statement
        ]]></description>
        <expected-problems>0</expected-problems>
        <code><![CDATA[
public class CommonExpressionsInAllIfBranches {
    public void test() {
        if( a(0)) {
           x = doSomething(0);
         }
    }
}
     ]]></code>
    </test-code>
    <test-code>
        <description><![CDATA[
(5) common expressions can be moved outside the if statement
        ]]></description>
        <expected-problems>0</expected-problems>
        <code><![CDATA[
public class CommonExpressionsInAllIfBranches {
    public void test() {
        if( a(f)) {
           x = doSomething(f);
         }
    }
}
     ]]></code>
    </test-code>
    <test-code>
        <description><![CDATA[
(4) common expressions can be moved outside the if statement
        ]]></description>
        <expected-problems>1</expected-problems>
        <expected-messages>
            <message>Duplicate if-expression f()+7 found in lines 5:13,6:28</message>
        </expected-messages>
        <code><![CDATA[
public class CommonExpressionsInAllIfBranches {
    private int x = 0;

    public void test() {
        if( f() + 7) {
           x = doSomething(f() + 7);
         }
    }
}
     ]]></code>
    </test-code>
    <test-code>
        <description><![CDATA[
(2) common expressions can be moved outside the if statement
        ]]></description>
        <expected-problems>1</expected-problems>
        <code><![CDATA[
public class CommonExpressionsInAllIfBranches {
    private int x = 0;

    public void test() {
        if( f()) {
           x = doSomething(f());
         }
    }
}
     ]]></code>
    </test-code>
    <test-code>
        <description><![CDATA[
(3) common expressions can be moved outside the if statement
        ]]></description>
        <expected-problems>1</expected-problems>
        <code><![CDATA[
public class CommonExpressionsInAllIfBranches {
    private int x = 0;

    public void test() {
        if( g(f())) {
           x = doSomething(f());
         }
    }
}
     ]]></code>
    </test-code>
</test-data>
